<!DOCTYPE html>
<html>
    <style>
        /* Estilos para el formulario */
        #fallaForm {
          margin: 20px 0;
        }
      
        #fallaForm label {
          font-weight: bold;
        }
      
        /* Estilos para la tabla */
        .table {
          margin-top: 20px;
        }
      
        .table thead th {
          background-color: #6cb9f8;
          color: #e7e7e7;
        }
        .container {
      width: 70%;
      margin: 15px auto;
    }
    body {
      text-align: center;
      color: green;
    }
    h2 {
      text-align: center;
      font-family: "Verdana", sans-serif;
      font-size: 30px;
    }
      </style>
      
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Fallas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-5">
    <h1>Registro de Fallas</h1>
    <form id="fallaForm">
        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción de la Falla</label>
            <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required></textarea>
        </div>
        <div class="mb-3">
            <label for="prioridad" class="form-label">¿Cual es el grado de prioridad?</label>
            <select class="form-select" id="prioridad" name="prioridad" required>
                <option value="alta">Alta</option>
                <option value="media">Media</option>
                <option value="baja">Baja</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="departamento" class="form-label"> ¿De que departamento es?</label>
            <select class="form-select" id="departamento" name="departamento" required>
                <option value="departamento-artes">Departamento de artes</option>
                <option value="departamento-contabilidad">Departamento de contabilidad</option>
                <option value="departamento-finanzas">Departamento de finanzas</option>
                <option value="departamento-RH">Departamento de recursos humanos</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="nombreemple" class="form-label">nombre del empleado</label>
            <textarea class="form-control" id="nombreemple" name="nombreemple" rows="1" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Enviar Ticket</button>
    </form>
</div>

<div class="container mt-5">
    <h2>Fallas Registradas</h2>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Descripción</th>
                <th scope="col">Prioridad</th>
                <th scope="col">Departamento</th>
                <th scope="col">Nombre del Empleado</th>
                <th scope="col">Resuelto</th> <!-- Nueva columna para indicar el estado de resolución -->
                
            </tr>
        </thead>
        <tbody id="tablaFallas">
    </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    $('#fallaForm').submit(function(event) {
        event.preventDefault();
        var descripcion = $('#descripcion').val();
        var prioridad = $('#prioridad').val();
        var departamento = $('#departamento').val();
        var nombreemple = $('#nombreemple').val();

        // Crear una nueva fila en la tabla para mostrar la falla registrada
        var newRow = `<tr>
            <th scope="row">1</th>
            <td>${descripcion}</td>
            <td>${prioridad}</td>
            <td>${departamento}</td>
            <td>${nombreemple}</td>
            <td><input type="checkbox" class="check-box"></td>
        </tr>`;

        $('#tablaFallas').append(newRow);

        // Limpia el formulario después de enviar
        $('#fallaForm')[0].reset();
    });
    
});
</script>
<script>
    // Selecciona todas las casillas de verificación con la clase "check-box"
    var checkBoxes = document.querySelectorAll('.check-box');
    
    // Agrega un evento de clic a cada casilla de verificación
    checkBoxes.forEach(function(checkbox) {
        checkbox.addEventListener('click', function() {
            // Si la casilla de verificación está marcada, muestra una palomita; de lo contrario, muestra nada
            if (this.checked) {
                this.parentNode.innerHTML = '<i class="fas fa-check"></i>';
            } else {
                this.parentNode.innerHTML = '';
            }
        });
    });
    </script>
     <link
     rel=
 "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"
     type="text/css"
   />
   <script src=
 "https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <script
     src=
 "https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"
     type="text/javascript"
   ></script>
   <script src=
 "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
   
   <script src=
 "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.min.js"></script>
 <div class="container">
    <h2>fallas</h2>
    <div>
      <canvas id="myChart"></canvas>
    </div>
  </div>
  <script>
    var ctx = document.getElementById("myChart").getContext("2d");
    var myChart = new Chart(ctx, {
      type: "line",
      data: {
        labels: [
          "enero",
          "febrero",
          "marzo",
          "junio",
          "julio",
          "agosto",
          "septiembre",
          "octubre",
          "noviembre",
          "diciembre",
        ],
        datasets: [
          {
            label: "fallas de prioridad baja",
            data: [10, 9, 3, 17, 6, 3, 10, 20, 18, 5],
            backgroundColor: "rgb(60, 179, 113)",
          },
          {
            label: "fallas de prioridad media",
            data: [15, 8, 10, 20, 2, 8, 10, 15, 5, 30],
            backgroundColor: "rgb(255, 165, 0)",
          },
          {
            label: "fallas de prioridad alta",
            data: [19, 2, 5, 5, 2, 1, 10, 15, 20, 0],
            backgroundColor: "rgb(255, 0, 0)",
          },
        ],
      },
    });
  </script>
</body>
</html>
