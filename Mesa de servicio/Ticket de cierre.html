<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/cierre.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>ticket de cierre</title>
</head>
<body>
<div class="container mt-5">
    <h1>ticket de cierre</h1>
    <form id="fallaForm">
        <div class="mb-3">
            <label for="nomb_trabajador" class="form-label">nombre de quien realizo el servicio</label>
            <textarea class="form-control" id="nomb_trabajador" name="nomb_trabajador" rows="1" required></textarea>
        </div>
        <div class="mb-3">
            <label for="departamento" class="form-label"> ¿De que departamento es?</label>
            <select class="form-select" id="departamento" name="departamento" required>
                <option value="departamento-sistemas">Departamento de sistemas</option>
                <option value="departamento-programación">Departamento de programación</option>
                <option value="departamento-mantenimiento">Departamento de mantenimiento</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="id_servicio" class="form-label">numero del servicio</label>
            <textarea class="form-control" id="id_servicio" name="id_servicio" rows="1" required></textarea>
        </div>
        <div class="mb-3">
            <label for="Descripcion" class="form-label">Descripción de lo que se realizo </label>
            <textarea class="form-control" id="Descripcion" name="Descripcion" rows="3" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Enviar Ticket</button>
    </form>
</div>
<div class="container mt-5">
    <h2>Fallas Solucionadas</h2>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID_trabajo</th>
                <th scope="col">nombre del que realizo el servicio</th>
                <th scope="col">departamento</th>
                <th scope="col">ID_servicio</th>
                <th scope="col">Descripción de lo realizado</th>
                <th scope="col">Resuelto</th> 
                
            </tr>
        </thead>
        <tbody id="tablaFallas">
    </table>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    $('#fallaForm').submit(function(event) {
        event.preventDefault();
        var nomb_trabajador = $('#nomb_trabajador').val();
        var departamento = $('#departamento').val();
        var id_servicio = $('#id_servicio').val();
        var Descripcion = $('#Descripcion').val();

        // Crear una nueva fila en la tabla para mostrar la falla registrada
        var newRow = `<tr>
            <th scope="row">1</th>
            <td>${nomb_trabajador}</td>
            <td>${departamento}</td>
            <td>${id_servicio}</td>
            <td>${Descripcion}</td>
            <td><input type="checkbox" class="check-box"></td>
        </tr>`;

        $('#tablaFallas').append(newRow);

        // Limpia el formulario después de enviar
        $('#fallaForm')[0].reset();
    });
    
});
</script>
</div>
</body>
</html>